<!-- announce.html - Announcements template
Copyright (C) 2026 Aaron Reichenbach

This program is free software: you can redistribute it and/or modify         
it under the terms of the GNU Affero General Public License as
published by the Free Software Foundation, either version 3 of the
License, or (at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU Affero General Public License for more details.

You should have received a copy of the GNU Affero General Public License
along with this program.  If not, see <https://www.gnu.org/licenses/>.-->

{% extends "base.html" %}
{% import "components/panel.html" as Panel %}

{% block content %}

    {% for post in posts %}
        
        {% set header_data = {
            'title': post.title,
            'subtitle': post.subtitle,
            'author': post.username,
            'date': post.created_at
        } %}
    
        {% set footer_content %}
        {% if post.footnote %}
            <p class="footnote">{{ post.footnote }}</p>
        {% endif %}
        {% endset %}

        {% call Panel.render(
            type='article',
            header=header_data,
            footer=footer_content
        ) %}
            {{ post.content | format_post }}
        {% endcall %}

        {% call Panel.render(
            type='article',
            header=header_data,
            footer=post.footnote
        ) %}
            {{ post.content | format_post }}
        {% endcall %}

    {% else %}
        
        {% call Panel.render(type='empty') %}
            <p class="system-message">
                // System Status: Normal. No new announcements.
            </p>
        {% endcall %}

    {% endfor %}

{% endblock %}