/* layout.css - Geometry and positioning for site elements
Copyright (C) 2026 Aaron Reichenbach

This program is free software: you can redistribute it and/or modify         
it under the terms of the GNU Affero General Public License as
published by the Free Software Foundation, either version 3 of the
License, or (at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU Affero General Public License for more details.

You should have received a copy of the GNU Affero General Public License
along with this program.  If not, see <https://www.gnu.org/licenses/>.*/

/* ==========================================================================
   RESET & GLOBAL BOX MODEL
   ========================================================================== */
* {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
}

html, body {
    width: 100%;
    height: 100%;
    
    overflow: hidden;
}

/* ==========================================================================
   Z-INDEX SCALE
   ========================================================================== */
:root {
    --z-base: 0;
    --z-scroller: 10;
    --z-effects-low: 20;
    --z-layout: 30;       /* Main Content Area */
    --z-nav: 40;          /* Sidebar Elements */
    --z-components: 50;   /* Interactive UI elements */
    --z-effects-high: 60;
    --z-overlay: 70;      /* Dimming backgrounds */
    --z-modal: 80;        /* Popups */
}

/* ==========================================================================
   MAIN LAYOUT WRAPPER
   ========================================================================== */
#layout-wrapper {
    position: relative;
    z-index: var(--z-layout);

    display: flex;
    flex-direction: row;

    width: 100%;
    height: 100vh;
}

/* ==========================================================================
   SHARED ALIGNMENT RULES
   ========================================================================== */
main header {
    display: flex;
    align-items: flex-end;
    
    flex-shrink: 0;
    
    height: 1rem;
    
    margin-bottom: 0.2rem;
}

/* ==========================================================================
   SIDEBAR
   ========================================================================== */
#layout-sidebar {
    position: relative;
    z-index: var(--z-nav);

    flex: 0 0 225px;

    display: flex;
    flex-direction: column;

    padding-top: 2rem;
    padding-left: 2rem;
    padding-right: 1rem;
    padding-bottom: 2rem;
    
    overflow-y: auto;
}
#user-profile {
    display: flex;
    align-items: flex-end;
    
    flex-shrink: 0;

    margin-top: 1.2rem;

    height: 1.5rem;
    margin-bottom: 0.5rem;
}

#navigation-list {
    display: flex;
    flex-direction: column;

    list-style: none;
    
    margin-top: 0;
}

.nav-item {
    display: block;
    width: 100%;
    
    margin-bottom: 0.25rem;
}

.nav-item-break {
    display: block;
    height: 0.8em;
}

#node-status {
    margin-top: auto;
}

#node-status h3 {
    margin-bottom: 0.8rem;
}

#node-status dl {
    display: grid;
    grid-template-columns: auto 1fr;
    
    row-gap: 0.25rem;
    column-gap: 2rem;
}

#node-status dt {
    grid-column: 1;
}

#node-status dd {
    grid-column: 2;
}

/* ==========================================================================
   MAIN CONTENT
   ========================================================================== */
main {
    position: relative;
    z-index: var(--z-layout);

    flex-grow: 1;
    
    display: flex;
    flex-direction: column;

    padding: 2rem;
    
    overflow-y: auto;
}

#page-header {
    flex-shrink: 0;
    line-height: 1;
    height: 2rem;
    margin-bottom: 1rem;
    font-size: 1rem;
}

#flash-messages {
    flex-shrink: 0;
    
    height: 1.5rem;
    
    margin-bottom: 0.3rem;
    
    overflow-y: auto;
}

.layout-content-centered {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    
    height: 100%;
}

/* ==========================================================================
   SCROLLER
   ========================================================================== */
#layout-scroller {
    position: relative;
    z-index: var(--z-scroller);

    flex: 0 0 27%;

    height: 100%;
    
    overflow: hidden;
}

#scroller-content {
    width: 100%;
    height: 100%;
    
    overflow: hidden;
}

/* ==========================================================================
   FEED LAYOUT
   ========================================================================== */
.layout-feed {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: flex-start;
    
    height: 100%;
    
    padding-bottom: 4rem; 
}

.layout-feed .panel {
    margin-bottom: 2rem;
    flex-shrink: 0;
}